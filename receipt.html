<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Receipt</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <style>
        @media print {
            body {
                background-color: white !important;
                padding: 0 !important;
            }
            .container {
                max-width: 100% !important;
                padding: 0 !important;
            }
        }
    </style>
</head>
<body class="bg-light">
    <div class="container py-4">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="text-center mb-4">
                    <div class="d-flex justify-content-center align-items-center mb-2" style="height: 80px;">
                        <img src="Logo.jpg" alt="Logo" class="img-fluid" style="max-height: 80px;">
                    </div>
                    <div class="mb-3">
                        <div class="mb-1">Registan No.: 20AZWPB5827D1ZK</div>
                        <div class="mb-1">E-mail: sarvashray1@gmail.com</div>
                        <div class="mb-1">Contact No.: 9955876455</div>
                        <div class="mb-1">Time 10 am to 5:30 pm</div>
                        <div>Address: Lanka, Varanasi, U.P. -221005</div>
                    </div>
                    <h2 class="my-3 text-decoration-underline">Registration Receipt</h2>
                </div>

                <div class="card shadow-sm mb-4">
                    <div class="card-body">
                        <h5 class="card-title border-bottom pb-2 mb-3">Registration Details</h5>
                        <div id="receipt-content">
                            <!-- Receipt content will be populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <button class="btn btn-success d-block mx-auto px-4 py-2 mb-4 d-print-none" onclick="window.print()">Print Receipt</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Get form data from localStorage
            const formData = JSON.parse(localStorage.getItem('formData'));
            const receiptContent = document.getElementById('receipt-content');

            if (formData) {
                // Create receipt content from form data
                let html = '';   
                // Personal Details
                html += '<div class="row mb-2"><div class="col-md-4 fw-bold">Date of Joining:</div><div class="col-md-8">' + (formData.joiningDate || 'N/A') + '</div></div>';
                html += '<div class="row mb-2"><div class="col-md-4 fw-bold">Your Refer Id:</div><div class="col-md-8">' + (formData.refercode || 'N/A') + '</div></div>';
                html += '<div class="row mb-2"><div class="col-md-4 fw-bold">Full Name:</div><div class="col-md-8">' + (formData.fullName || 'N/A') + '</div></div>';
                html += '<div class="row mb-2"><div class="col-md-4 fw-bold">Mobile:</div><div class="col-md-8">' + (formData.mobile || 'N/A') + '</div></div>';
                
                // Bank Details
                if (formData.bankName || formData.accountNumber || formData.ifscCode) {
                    html += '<h5 class="border-bottom pb-2 mt-4 mb-3">Bank Details</h5>';
                    html += '<div class="row mb-2"><div class="col-md-4 fw-bold">Bank Name:</div><div class="col-md-8">' + (formData.bankName || 'N/A') + '</div></div>';
                    html += '<div class="row mb-2"><div class="col-md-4 fw-bold">Account Number:</div><div class="col-md-8">' + (formData.accountNumber || 'N/A') + '</div></div>';
                    html += '<div class="row mb-2"><div class="col-md-4 fw-bold">IFSC Code:</div><div class="col-md-8">' + (formData.ifscCode || 'N/A') + '</div></div>';
                }
                
                // Referral Details
                if (formData.referralName || formData.referralId) {
                    html += '<h5 class="border-bottom pb-2 mt-4 mb-3">Referral Details</h5>';
                    html += '<div class="row mb-2"><div class="col-md-4 fw-bold">Referral Name:</div><div class="col-md-8">' + (formData.referralName || 'N/A') + '</div></div>';
                    html += '<div class="receipt-row"><div class="receipt-label">Referral ID:</div><div class="receipt-value">' 
      + (formData.referralId ? 'SAR-' + formData.referralId : 'N/A') 
      + '</div></div>';
                }
                
                // Add timestamp
                html += '<h5 class="border-bottom pb-2 mt-4 mb-3">Submission Details</h5>';
                html += '<div class="row mb-2"><div class="col-md-4 fw-bold">Submission Date:</div><div class="col-md-8">' + new Date().toLocaleString() + '</div></div>';
                
                receiptContent.innerHTML = html;
            } else {
                receiptContent.innerHTML = '<p class="text-danger">No registration data found. Please complete the registration form first.</p>';
            }
        });
    </script>
    
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
</body>
</html>